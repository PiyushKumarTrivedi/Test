"use strict";

/**
 * The remove the indent in code
 * 
 * @param {string} text Source code
 */
global.removeCodeIndent = function (text) {
  var lines = text.split("\n");
  var i = 0;
  while (i < lines.length && lines[i].trim() === "") {
    i++;
  }
  var firstLine = lines[i];
  var leftTrimSize = 0;
  while (leftTrimSize < firstLine.length && firstLine[leftTrimSize] === " ") {
    leftTrimSize++;
  }

  return lines.slice(i).map(function (line) {
    return line.substr(leftTrimSize);
  }).join("\n").trim();
};